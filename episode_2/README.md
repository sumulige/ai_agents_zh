# Episode 2: Automate Daily Digests Using n8n

> AI Agents A-Z - ç”¨ n8n æ„å»ºå®ç”¨çš„ AI Agent
> éš¾åº¦: â­â­ | é¢„ä¼°æ—¶é—´: 35 åˆ†é’Ÿ

---

## [Level 1] è¿™ä¸€é›†åœ¨åšä»€ä¹ˆï¼Ÿ

æœ¬é›†æ•™ä½ ç”¨ n8n è‡ªåŠ¨åŒ–åˆ›å»º**æ¯æ—¥æ‘˜è¦**ï¼Œæ•´åˆæ–°é—»ã€å¤©æ°”ã€æ—¥å†ç­‰ä¿¡æ¯ã€‚

**ä¸€å¥è¯**ï¼šåƒ"ç§äººåŠ©ç†"ä¸€æ ·ï¼Œæ¯å¤©æ—©ä¸Šè‡ªåŠ¨æ”¶é›†å¹¶æ€»ç»“ä½ å…³å¿ƒçš„æ‰€æœ‰ä¿¡æ¯ã€‚

**é€‚ç”¨åœºæ™¯**ï¼š
- ä¸ªäººæ¯æ—¥ä¿¡æ¯æ±‡æ€»
- å›¢é˜Ÿæ™¨æŠ¥è‡ªåŠ¨åŒ–
- å¤šä¿¡æ¯æºæ•´åˆå±•ç¤º

> ğŸ’¡ **å¿«é€Ÿåˆ¤æ–­**ï¼šå¦‚æœä½ æƒ³æ¯å¤©æ—©ä¸Š**è‡ªåŠ¨è·å–ä¸€ä»½ä¸ªæ€§åŒ–æ‘˜è¦**ï¼Œè¿™ä¸€é›†é€‚åˆä½ ã€‚
> æƒ³äº†è§£æ›´å¤šï¼Ÿç»§ç»­é˜…è¯» [Level 2]ã€‚

---

## [Level 2] æ ¸å¿ƒæ¦‚å¿µ

### ä½ ä¼šå­¦åˆ°ä»€ä¹ˆ

| åºå· | æ¦‚å¿µ | è¯´æ˜ |
|------|------|------|
| 1 | **Schedule Trigger** | å®šæ—¶è§¦å‘å·¥ä½œæµï¼ˆå¦‚æ¯å¤©æ—©ä¸Š 9 ç‚¹ï¼‰ |
| 2 | **RSS Feed è¯»å–** | ä»å¤šä¸ªæ–°é—»æºè·å–æœ€æ–°èµ„è®¯ |
| 3 | **LLM Chain** | ä½¿ç”¨ AI æ€»ç»“å’Œåˆ†ç±»æ–°é—» |
| 4 | **OpenWeatherMap API** | è·å–å¤©æ°”é¢„æŠ¥å¹¶ç”Ÿæˆå»ºè®® |
| 5 | **æ•°æ®èšåˆ** | åˆå¹¶å¤šä¸ªä¿¡æ¯æºåˆ°ä¸€ä¸ªè¾“å‡º |

### æ¶‰åŠçš„ n8n èŠ‚ç‚¹

| èŠ‚ç‚¹ç±»å‹ | ç”¨é€” | æ–°æ‰‹å‹å¥½åº¦ |
|----------|------|------------|
| Schedule Trigger | å®šæ—¶æ‰§è¡Œå·¥ä½œæµ | â­ ç®€å• |
| RSS Feed Read | è¯»å– RSS æ–°é—»æº | â­ ç®€å• |
| Merge | åˆå¹¶æ•°æ®æµ | â­â­ ä¸­ç­‰ |
| Aggregate | èšåˆå¤šæ¡æ•°æ® | â­â­ ä¸­ç­‰ |
| LLM Chain | AI æ–‡æœ¬ç”Ÿæˆ | â­â­ ä¸­ç­‰ |
| OpenWeatherMap | å¤©æ°”æ•°æ® | â­ ç®€å• |
| HTML Extract | æå–ç½‘é¡µå†…å®¹ | â­â­ ä¸­ç­‰ |

### æ¶‰åŠçš„å¤–éƒ¨æœåŠ¡

| æœåŠ¡ | å…è´¹é¢åº¦ | éš¾åº¦ | å®˜ç½‘ |
|------|----------|------|------|
| **OpenAI** | æŒ‰ä½¿ç”¨ä»˜è´¹ | â­ | [openai.com](https://openai.com/) |
| **OpenWeatherMap** | å…è´¹ 1000 æ¬¡/å¤© | â­ | [openweathermap.org](https://openweathermap.org/) |
| **RSS Feed** | å…è´¹ | â­ | å„æ–°é—»ç½‘ç«™ |

> ğŸ’¡ **äº†è§£å¤Ÿäº†ï¼Ÿ** çŸ¥é“å­¦ä»€ä¹ˆå°±å¯ä»¥å¼€å§‹ã€‚ç»§ç»­é˜…è¯» [Level 3] äº†è§£å·¥ä½œæµç»“æ„ã€‚

---

## [Level 3] å·¥ä½œæµç»“æ„

### å·¥ä½œæµæ¦‚è§ˆå›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  "Daily Digest" å·¥ä½œæµ                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  [Schedule Trigger] â”€â”€â–º æ¯å¤© 9AM è§¦å‘                        â”‚
â”‚       â”‚                                                     â”‚
â”‚       â”œâ”€â”€â–º [RSS: CNN] â”€â”€â”                                   â”‚
â”‚       â”œâ”€â”€â–º [RSS: BI]  â”€â”€â”¼â”€â”€â–º [Merge] â”€â”€â–º [Aggregate]        â”‚
â”‚       â””â”€â”€â–º [RSS: æ›´å¤š] â”€â”€â”˜              â”‚                    â”‚
â”‚                                        â”‚                    â”‚
â”‚                                        â–¼                    â”‚
â”‚                                  [LLM Chain]                â”‚
â”‚                                  æ€»ç»“åˆ†ç±»æ–°é—»                 â”‚
â”‚                                        â”‚                    â”‚
â”‚  [Schedule Trigger] â”€â”€â–º [OpenWeatherMap] â”€â”€â–º [Filter]       â”‚
â”‚       â”‚                     è·å–å¤©æ°”          åªä¿ç•™æœªæ¥      â”‚
â”‚       â”‚                           â”‚                        â”‚
â”‚       â”‚                           â–¼                        â”‚
â”‚       â”‚                     [Aggregate] â”€â”€â–º [LLM Chain]      â”‚
â”‚       â”‚                     èšåˆé¢„æŠ¥        å¤©æ°”å»ºè®®         â”‚
â”‚       â”‚                           â”‚                        â”‚
â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚                                   â–¼                    â–¼    â”‚
â”‚                            [Merge1] â”€â”€â–º [æœ€ç»ˆæ‘˜è¦è¾“å‡º]      â”‚
â”‚                            åˆå¹¶æ‰€æœ‰ä¿¡æ¯                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ•°æ®æµ

```
æ¯å¤©ä¸Šåˆ 9:00
    â”‚
    â”œâ”€â”€â–º æ–°é—»åˆ†æ”¯
    â”‚     â”œâ”€â”€â–º CNN Money RSS
    â”‚     â”œâ”€â”€â–º Business Insider RSS
    â”‚     â””â”€â”€â–º åˆå¹¶ â†’ LLM æ€»ç»“ â†’ åˆ†ç±»è¾“å‡º
    â”‚
    â”œâ”€â”€â–º å¤©æ°”åˆ†æ”¯
    â”‚     â””â”€â”€â–º 5 å¤©é¢„æŠ¥ â†’ è¿‡æ»¤ â†’ LLM å»ºè®®
    â”‚
    â””â”€â”€â–º æœ€ç»ˆåˆå¹¶
          â””â”€â”€â”€ æ–°é—» + å¤©æ°” â†’ æ¯æ—¥æ‘˜è¦
```

### èŠ‚ç‚¹è¯´æ˜

| èŠ‚ç‚¹ | ç±»å‹ | é…ç½®è¦ç‚¹ | æ•°æ®è¾“å‡º |
|------|------|----------|----------|
| **Schedule Trigger** | Schedule | Cron: `0 9 * * 1-5` (å·¥ä½œæ—¥ 9AM) | è§¦å‘ä¿¡å· |
| **RSS Feed** | RSS Read | CNN, BI ç­‰æ–°é—»æº | æ–‡ç« åˆ—è¡¨ |
| **Merge** | Merge | åˆå¹¶å¤šä¸ª RSS | ç»Ÿä¸€æ•°æ®æµ |
| **Aggregate** | Aggregate | èšåˆåˆ° `news` å­—æ®µ | æ–°é—»æ•°ç»„ |
| **LLM Chain** | AI Chain | åˆ†ç±»æ€»ç»“æ–°é—» | ç»“æ„åŒ–æ‘˜è¦ |
| **OpenWeatherMap** | Weather | åŸå¸‚: los angeles | 5å¤©é¢„æŠ¥ |
| **Filter** | Filter | åªä¿ç•™æœªæ¥æ—¶é—´ | æœ‰æ•ˆé¢„æŠ¥ |
| **LLM Chain1** | AI Chain | ç”Ÿæˆç©¿è¡£å»ºè®® | å¤©æ°”æ‘˜è¦ |

> ğŸ’¡ **å‡†å¤‡å°±ç»ªï¼Ÿ** ç†è§£å·¥ä½œæµç»“æ„åï¼Œç»§ç»­é˜…è¯» [Level 4] å¼€å§‹æ„å»ºã€‚

---

## [Level 4] æ„å»ºæ­¥éª¤

### å‰ç½®å‡†å¤‡

åœ¨å¼€å§‹ä¹‹å‰ï¼Œè¯·ç¡®ä¿ï¼š

- [ ] n8n å·²å®‰è£…å¹¶è¿è¡Œ
- [ ] OpenAI API Key å·²é…ç½®
- [ ] OpenWeatherMap API Key å·²è·å–

### æ­¥éª¤ 1: åˆ›å»ºæ–°é—»åˆ†æ”¯

**ç›®æ ‡**: ä»å¤šä¸ª RSS æºè·å–æ–°é—»å¹¶æ€»ç»“

**æ“ä½œ**:

1. æ·»åŠ  **Schedule Trigger** èŠ‚ç‚¹
   - Cron è¡¨è¾¾å¼: `0 9 * * 1-5` (å·¥ä½œæ—¥æ—©ä¸Š 9 ç‚¹)

2. æ·»åŠ  **RSS Feed Read** èŠ‚ç‚¹ (CNN)
   - URL: `http://rss.cnn.com/rss/money_topstories.rss`

3. æ·»åŠ  **RSS Feed Read** èŠ‚ç‚¹ (Business Insider)
   - URL: `https://feeds.businessinsider.com/custom/all`

4. æ·»åŠ  **Merge** èŠ‚ç‚¹
   - æ¨¡å¼: "Merge By Index"

5. æ·»åŠ  **Edit Fields** èŠ‚ç‚¹
   - æå– `title` å’Œ `contentSnippet`

6. æ·»åŠ  **Aggregate** èŠ‚ç‚¹
   - èšåˆåˆ° `news` å­—æ®µ

7. æ·»åŠ  **LLM Chain** èŠ‚ç‚¹
   - æç¤ºè¯: "æŒ‰ä¸»é¢˜åˆ†ç±»å¹¶æ€»ç»“ 24 å°æ—¶å†…çš„é‡è¦æ–°é—»"

**éªŒè¯**: å·¥ä½œæµèƒ½è·å–å¹¶æ€»ç»“æ–°é—»

---

### æ­¥éª¤ 2: åˆ›å»ºå¤©æ°”åˆ†æ”¯

**ç›®æ ‡**: è·å–å¤©æ°”é¢„æŠ¥å¹¶ç”Ÿæˆå»ºè®®

**æ“ä½œ**:

1. æ·»åŠ  **OpenWeatherMap** èŠ‚ç‚¹
   - æ“ä½œ: 5 Day Forecast
   - åŸå¸‚: ä½ çš„åŸå¸‚
   - å•ä½: å…¬åˆ¶/è‹±åˆ¶

2. æ·»åŠ  **Split Out** èŠ‚ç‚¹
   - åˆ†å‰² `list` å­—æ®µ

3. æ·»åŠ  **Filter** èŠ‚ç‚¹
   - æ¡ä»¶: åªä¿ç•™æœªæ¥æ—¶é—´ (`$now.plus(1, "days").toSeconds() > $json.dt`)

4. æ·»åŠ  **Aggregate1** èŠ‚ç‚¹
   - èšåˆåˆ° `weather_forecast` å­—æ®µ

5. æ·»åŠ  **LLM Chain** èŠ‚ç‚¹
   - æç¤ºè¯: "æ€»ç»“å¤©æ°”é¢„æŠ¥å¹¶æ·»åŠ ç©¿è¡£å»ºè®®"

**éªŒè¯**: å·¥ä½œæµèƒ½è·å–å¹¶è§£é‡Šå¤©æ°”

---

### æ­¥éª¤ 3: åˆå¹¶æ‰€æœ‰ä¿¡æ¯

**ç›®æ ‡**: åˆ›å»ºæœ€ç»ˆçš„æ¯æ—¥æ‘˜è¦

**æ“ä½œ**:

1. æ·»åŠ  **Merge** èŠ‚ç‚¹
   - åˆå¹¶æ–°é—»å’Œå¤©æ°”æ•°æ®

2. æ·»åŠ æœ€ç»ˆè¾“å‡ºèŠ‚ç‚¹
   - å¯ä»¥æ˜¯ Emailã€Slack æˆ– Webhook

**éªŒè¯**: æ‰€æœ‰ä¿¡æ¯åˆå¹¶åˆ°ä¸€ä»½æ‘˜è¦ä¸­

---

### æ­¥éª¤ 4: é…ç½®è¾“å‡ºé€šé“

**ç›®æ ‡**: å°†æ‘˜è¦å‘é€åˆ°ä½ çš„é¦–é€‰æ¸ é“

**é€‰é¡¹**:
- **Email**: æ·»åŠ  Gmail/Outlook èŠ‚ç‚¹
- **Slack**: æ·»åŠ  Slack èŠ‚ç‚¹
- **Webhook**: å‘é€åˆ°è‡ªå®šä¹‰ç«¯ç‚¹

**éªŒè¯**: æ‘˜è¦æ­£ç¡®å‘é€

---

### æ­¥éª¤ 5: æµ‹è¯•å®Œæ•´å·¥ä½œæµ

**ç›®æ ‡**: ç«¯åˆ°ç«¯éªŒè¯

**æ“ä½œ**:

1. æ‰‹åŠ¨è§¦å‘å·¥ä½œæµ
2. æ£€æŸ¥æ–°é—»æ˜¯å¦æ­£ç¡®è·å–å’Œæ€»ç»“
3. æ£€æŸ¥å¤©æ°”æ˜¯å¦æ­£ç¡®è·å–å’Œå»ºè®®
4. éªŒè¯æœ€ç»ˆæ‘˜è¦æ ¼å¼

**é¢„æœŸç»“æœ**: æ”¶åˆ°ä¸€ä»½å®Œæ•´çš„æ¯æ—¥æ‘˜è¦

> ğŸ’¡ **éœ€è¦å¸®åŠ©ï¼Ÿ** å¦‚æœé‡åˆ°é—®é¢˜ï¼ŒæŸ¥çœ‹ [Level 5] æ•…éšœæ’é™¤ã€‚

---

## [Level 5] è¿›é˜¶å†…å®¹

### è‡ªå®šä¹‰ Cron è¡¨è¾¾å¼

| è¡¨è¾¾å¼ | è¯´æ˜ |
|--------|------|
| `0 9 * * 1-5` | å·¥ä½œæ—¥æ—©ä¸Š 9 ç‚¹ |
| `0 8 * * *` | æ¯å¤©æ—©ä¸Š 8 ç‚¹ |
| `0 6 * * 1` | æ¯å‘¨ä¸€æ—©ä¸Š 6 ç‚¹ |
| `0 */4 * * *` | æ¯ 4 å°æ—¶ |
| `30 8 * * 1-5` | å·¥ä½œæ—¥æ—©ä¸Š 8:30 |

### æ‰©å±•ä¿¡æ¯æº

**æ›´å¤š RSS æº**:
- Hacker News: `https://news.ycombinator.com/rss`
- TechCrunch: `https://techcrunch.com/feed/`
- Reddit: `https://www.reddit.com/r/technology/.rss`

**æ·»åŠ æ›´å¤šæ•°æ®**:
- æ—¥å†äº‹ä»¶ (Google Calendar)
- è‚¡ç¥¨ä»·æ ¼ (Yahoo Finance)
- ä»»åŠ¡æ¸…å• (Todoist/Notion)

### æ·»åŠ ä¸ªæ€§åŒ–å†…å®¹

```
[æ¯æ—¥æ‘˜è¦]
    â”œâ”€â”€â–º [Google Calendar] â”€â”€â–º ä»Šæ—¥æ—¥ç¨‹
    â”œâ”€â”€â–º [GitHub Activity] â”€â”€â–º ä»“åº“æ›´æ–°
    â”œâ”€â”€â–º[Habitica] â”€â”€â–º ä»»åŠ¡å®Œæˆæƒ…å†µ
    â””â”€â”€â–º [Fitbit] â”€â”€â–º ç¡çœ è´¨é‡
```

### æ•…éšœæ’é™¤

| é—®é¢˜ | ç—‡çŠ¶ | å¯èƒ½åŸå›  | è§£å†³æ–¹æ¡ˆ |
|------|------|----------|----------|
| RSS è¯»å–å¤±è´¥ | ç©ºè¾“å‡º | RSS URL ä¸å¯è®¿é—® | æ£€æŸ¥ URL æˆ–ä½¿ç”¨ä»£ç† |
| å¤©æ°” API é”™è¯¯ | 401 Unauthorized | API Key æ— æ•ˆ | é‡æ–°ç”Ÿæˆ OpenWeatherMap Key |
| LLM è¶…æ—¶ | æ‰§è¡Œæ—¶é—´è¿‡é•¿ | æ–°é—»å†…å®¹å¤ªå¤š | é™åˆ¶æ–°é—»æ•°é‡ |
| Cron æœªè§¦å‘ | å·¥ä½œæµä¸æ‰§è¡Œ | æ—¶åŒºé—®é¢˜ | æ£€æŸ¥ n8n æ—¶åŒºè®¾ç½® |

### è¾“å‡ºæ ¼å¼ç¤ºä¾‹

```markdown
# æ¯æ—¥æ‘˜è¦ - 2025å¹´1æœˆ17æ—¥

## è¦é—»é€Ÿé€’

### ç§‘æŠ€
- AI è¡Œä¸šæœ€æ–°åŠ¨æ€...
- æ–°å“å‘å¸ƒä¼šé¢„å‘Š...

### å•†ä¸š
- å¸‚åœºè¡Œæƒ…åˆ†æ...

## å¤©æ°”é¢„æŠ¥

ä»Šæ—¥å¤©æ°”ï¼šæ™´æœ—ï¼Œæœ€é«˜ 22C
ç©¿è¡£å»ºè®®ï¼šé€‚åˆç©¿è½»è–„å¤–å¥—ï¼Œæ— éœ€å¸¦ä¼

## ä½ çš„æ—¥ç¨‹
- 10:00 å›¢é˜Ÿä¼šè®®
- 14:00 é¡¹ç›®è¯„å®¡
```

### ç”Ÿäº§éƒ¨ç½²æ³¨æ„äº‹é¡¹

**æ€§èƒ½ä¼˜åŒ–**:
- ä½¿ç”¨ç¼“å­˜å‡å°‘é‡å¤ API è°ƒç”¨
- è®¾ç½®åˆç†çš„è¶…æ—¶æ—¶é—´
- è€ƒè™‘å¼‚æ­¥å¤„ç†é•¿æ–°é—»åˆ—è¡¨

**å¯é æ€§**:
- æ·»åŠ é”™è¯¯å¤„ç†å’Œé‡è¯•
- é…ç½®å¤±è´¥é€šçŸ¥
- è®°å½•æ‰§è¡Œæ—¥å¿—

### ç›¸å…³èµ„æº

**ç›¸å…³ Episode**:
- [Episode 1](../episode_1/) - AI Agent åŸºç¡€
- [Episode 3](../episode_3/) - LinkedIn å¸–å­è‡ªåŠ¨åŒ–
- [Episode 10](../episode_10/) - n8n æœ€ä½³å®è·µ

**å¤–éƒ¨èµ„æº**:
- [OpenWeatherMap æ–‡æ¡£](https://openweathermap.org/api)
- [n8n Schedule Trigger](https://docs.n8n.io/integrations/builtin/core-nodes/n8n-nodes-base.scheduletrigger/)

---

## èµ„æºä¸‹è½½

### n8n å·¥ä½œæµæ–‡ä»¶

- [daily_digest.json](./daily_digest.json)

---

## è§‚çœ‹è§†é¢‘

[![Build an AI assistant to automate your morning digest](https://img.youtube.com/vi/WlOUMoaf_aE/0.jpg)](https://www.youtube.com/watch?v=WlOUMoaf_aE)

**æ—¶é•¿**: ~20 åˆ†é’Ÿ | **æ›´æ–°æ—¥æœŸ**: 2025-01-17

---

## ç¤¾åŒºæ”¯æŒ

- [Skool ç¤¾åŒº](https://www.skool.com/ai-agents-az/about?gw2)

---

## å¯¼èˆª

| ä½ çš„éœ€æ±‚ | å»ºè®®é˜…è¯» |
|----------|----------|
| å¿«é€Ÿäº†è§£æœ¬é›†å†…å®¹ | Level 1 |
| å†³å®šæ˜¯å¦å­¦ä¹ æœ¬é›† | Level 1-2 |
| ç†è§£å·¥ä½œæµåŸç† | Level 3 |
| è·Ÿéšæ•™ç¨‹æ„å»º | Level 4 |
| æ’æŸ¥é—®é¢˜/ç”Ÿäº§éƒ¨ç½² | Level 5 |

---

**Episode**: 2 | **ç‰ˆæœ¬**: v2.0 (åˆ†å±‚è§£é‡Šç‰ˆ) | **æœ€åæ›´æ–°**: 2025-01-17

**æ ‡ç­¾**: n8n, daily digest, RSS, weather, automation, LLM
